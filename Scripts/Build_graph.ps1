param($model)
wsl ./dockerised-mulval/run_mulval.sh $model
javac -d .\ag-tools\bin -classpath "C:\Users\docuser\.gradle\caches\modules-2\files-2.1\org.jgrapht\jgrapht-core\1.5.1\1b9abad9a3d052c6a5d7135cbe63916f5ed11bef\jgrapht-core-1.5.1.jar;C:\Users\docuser\.gradle\caches\modules-2\files-2.1\org.jgrapht\jgrapht-io\1.5.1\ffe3b7b0edc4f22268d15670840a211a7b0d87cd\jgrapht-io-1.5.1.jar" -sourcepath .\ag-tools\src\main\java .\ag-tools\src\main\java\riss\resilience\controller\RunAG.java
java -cp .\ag-tools\bin -classpath "C:\Users\docuser\.gradle\caches\modules-2\files-2.1\org.jgrapht\jgrapht-core\1.5.1\1b9abad9a3d052c6a5d7135cbe63916f5ed11bef\jgrapht-core-1.5.1.jar;C:\Users\docuser\.gradle\caches\modules-2\files-2.1\org.jgrapht\jgrapht-io\1.5.1\ffe3b7b0edc4f22268d15670840a211a7b0d87cd\jgrapht-io-1.5.1.jar;C:\Users\docuser\.gradle\caches\modules-2\files-2.1\org.apache.commons\commons-text\1.8\879a6bde4c0537a25504c72ec7a94ba4099f469c\commons-text-1.8.jar;C:\Users\docuser\.gradle\caches\modules-2\files-2.1\org.antlr\antlr4-runtime\4.8-1\2d0456a791f3a95916c8c23b3bea3a90eea24720\antlr4-runtime-4.8-1.jar;C:\Users\docuser\.gradle\caches\modules-2\files-2.1\org.apache.commons\commons-lang3\3.9\122c7cee69b53ed4a7681c03d4ee4c0e2765da5\commons-lang3-3.9.jar" .\ag-tools\src\main\java\riss\resilience\controller\RunAG.java $model
ForEach($file in Get-ChildItem .\Personnal_simulations\output_$model\attack_paths\*.dot) {
    dot -Tsvg $file.FullName > .\Personnal_simulations\output_$model\attack_paths\$($file.BaseName).svg
}
dot -Tsvg .\Personnal_simulations\output_$model\strongly_connected_components\ag-nocycles.dot > .\Personnal_simulations\output_$model\strongly_connected_components\ag-nocycles.svg
